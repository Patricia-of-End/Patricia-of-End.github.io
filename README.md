# ローカルメディアプレイヤー

ブラウザで動作する、高機能なローカルオーディオファイルプレイヤーです。ローカルにある音楽ファイルを読み込み、メタデータや同期歌詞、オーディオビジュアライザーと共に楽しむことができます。

![スクリーンショット](https://i.imgur.com/your-screenshot-url.png)
*(ここにアプリケーションのスクリーンショットを挿入してください)*

## 主な機能

- **ローカルファイル再生:** お使いのコンピュータから直接、音声ファイル（MP3, WAVなど）を選択して再生できます。
- **メタデータ表示:** 音声ファイルに埋め込まれたタグ情報（曲名、アーティスト、アルバム、アルバムアート）を自動で読み込み、表示します。
- **同期歌詞表示:**
  - 音声ファイル埋め込みのLRC形式の歌詞を自動で表示します。
  - 外部の `.lrc` ファイルを個別に読み込んで表示することも可能です。
- **歌詞クリックシーク:** 表示されている歌詞の行をクリックすると、その時間まで再生位置がジャンプします。
- **オーディオビジュアライザー:** 再生中の音声の周波数スペクトルをリアルタイムで視覚化します。
- **ファイル情報表示:** 読み込んだファイルの形式、サンプルレート、ビットレート、ファイルサイズなどの詳細情報を表示します。
- **標準的なプレイヤー機能:**
  - 再生/一時停止
  - シークバーによる再生位置の変更
  - 音量調整

## 使用技術

- **フロントエンド:**
  - HTML5
  - CSS3
  - JavaScript (ES Modules)
  
- **ライブラリ/フレームワーク:**
  - [Tailwind CSS](https://tailwindcss.com/) (CDN経由): UIのスタイリング
  - [Media Session API](https://developer.mozilla.org/ja/docs/Web/API/Media_Session_API)
  - [heroicons v2.1.5](https://heroicons.com/): UIアイコンのセット
  - [jsmediatags](https://github.com/aadsm/jsmediatags): 音声ファイルのメタデータ読み込み

## セットアップと使い方

このプロジェクトをローカル環境で実行するには、Node.js と npm が必要です。

1.  **リポジトリのクローンまたはダウンロード:**
    まず、このプロジェクトのファイルをコンピュータにダウンロードします。

2.  **依存パッケージのインストール:**
    プロジェクトのルートフォルダ（`package.json` がある場所）でコマンドプロンプトまたはターミナルを開き、以下のコマンドを実行します。
    ```sh
    npm install
    ```

3.  **ローカル開発サーバーの起動:**
    同じくコマンドプロンプトで、以下のコマンドを実行して開発サーバーを起動します。
    ```sh
    npm run server
    ```
    または、プロジェクトルートにある `start_server.bat` (Windowsの場合) をダブルクリックして実行することもできます。

4.  **ブラウザで開く:**
    サーバーが起動すると、自動的にブラウザが開いて `http://127.0.0.1:8080` のようなアドレスでアプリケーションが表示されます。表示されない場合は、コマンドプロンプトに表示されたアドレスに手動でアクセスしてください。

## ファイル構成

このプロジェクトのJavaScriptコードは、保守性を高めるために機能ごとにファイル分割されています。

```
/
├── js/
│   ├── main.js               # 全体の初期化とイベントリスナー登録
│   ├── domElements.js        # DOM要素の取得
│   ├── utils.js              # 汎用ヘルパー関数
│   ├── ui.js                 # UI更新関連
│   ├── audioHandler.js       # 音声ファイルの処理、再生ロジック
│   ├── lyricsHandler.js      # 歌詞関連の処理
│   ├── visualizer.js         # オーディオビジュアライザー関連
│   └── mediaSessionHandler.js # Media Session API 関連
├── index.html                # メインのHTMLファイル
├── style.css                 # カスタムスタイル
└── package.json              # プロジェクト設定と依存関係
```
